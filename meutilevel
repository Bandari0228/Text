<div class="menuoptions">
    <ul>
      @for (item of menuOptions; track item) {
        <li (click)="toggleElement(item)">{{item.title}}
          @if(item.isSub){

          <span class="arrow">></span>
          }
        </li>
        <ul>
            @if(item.isOpen){
                @if(item.isSub && item.children){
                  @for (subitem of item.children; track subitem) {
                    <ul class="children">

                      <span class="subarrow">></span>
                     
                      <li  (click)="toggleElement(subitem)">
                        {{subitem.title}}
                      </li>
                      @if (subitem.isSub ) {
                        <span class="arrow">></span>
                      }
                    </ul>
                    <ul>
                      @if (subitem.isOpen) {
                        @if (subitem.isSub && subitem.children) {
                          @for (subsubitem of subitem.children; track subsubitem) {
                            @if (subitem.isSub && subitem.children) {<span class="arrow">></span>}
                            <li (click)="toggleElement(subsubitem)">
                              {{subsubitem.title}}
                            </li>
                            @if (subitem.isSub && subitem.children) {<span class="arrow">></span>}

                          }
                        }
                      }
                    </ul>
                  }
                }
            }
        </ul>
      }
    </ul>
  </div>




menuOptions: MenuItem[] = MenuOptions;
    toggleElement(item: MenuItem) {
        this.menuOptions.forEach(menuItem => {
            if (menuItem !== item) {
                menuItem.isOpen = false;
            }
        });
    
        
        if (item.isSub) {
            const parentItem = this.menuOptions.find(menuItem => menuItem.children && menuItem.children.includes(item));
            if (parentItem) {
                parentItem.isOpen = true; 
            }
        }
        item.isOpen = !item.isOpen;
        console.log(item);

    }
    
}

